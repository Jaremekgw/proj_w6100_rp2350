set(TARGET_NAME w6100_part_layout)

add_executable(${TARGET_NAME})
# ${CMAKE_CURRENT_LIST_DIR}/

target_sources(${TARGET_NAME} PRIVATE
        layout_seed.c
        )

#target_include_directories(${TARGET_NAME} PRIVATE
#        ${CMAKE_CURRENT_LIST_DIR}               # for local headers
#        )

# pull in common dependencies and additional spi hardware support
target_link_libraries(${TARGET_NAME} PRIVATE
        pico_stdlib
        )

pico_embed_pt_in_binary(${TARGET_NAME} ${CMAKE_CURRENT_LIST_DIR}/../w6100_partitions.json)
# create absolute uf2, and package in flash, use it for only first load on board
# pico_set_uf2_family(${TARGET_NAME} "absolute")          # 00000000->02000000
# (For an application image) set the UF2 family to rp2350-arm-s
# pico_set_uf2_family(${TARGET_NAME} "rp2350-arm-s")
        # Family ID 'rp2350-arm-s' can be downloaded in partition 0:
        #  00002000->000fc000

# This produces the packaged UF2 that preserves the partition table metadata and lets the boot ROM + picotool keep the table intact.
# pico_package_uf2_output(${TARGET_NAME})
# Do not flash the raw .bin for a partitioned setup. Use the packaged UF2 generated by the step above.
# sudo picotool load -x build/stairs_ws2815/proj_stairs_ws2815.uf2


#pico_enable_stdio_usb(${TARGET_NAME} 1)
#pico_enable_stdio_uart(${TARGET_NAME} 0)        # to use Debug Probe via UART


# create map/bin/hex file etc.
pico_add_extra_outputs(${TARGET_NAME})          # this function delares that you want a UF2 file to be generated

